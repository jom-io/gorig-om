import{u as h,j as e,t as i}from"./index-AHjT66P3.js";import{M as x,H as u,a9 as n,s as l,T as y,z as b,i as t,aa as j}from"./vendor-ui-B8JNe9Dz.js";import"./vendor-core-D3G3Pc5t.js";import"./vendor-utils-9ATX-dPw.js";function S({open:c,onClose:a,data:r}){const{t:s}=h();if(!r)return null;const m=()=>{if(!r.sampleTrace)return;const o=r.lastAt*1e3-5*60*1e3,d=o+60*60*1e3,p=`#/log?traceID=${encodeURIComponent(r.sampleTrace)}&startTime=${o}&endTime=${d}`;window.open(p,"_blank")};return e.jsx(x,{title:s("sys.workbench.anomalySampleDetail","Anomaly Sample Detail"),open:c,onCancel:a,width:800,footer:[e.jsx(t,{onClick:a,children:s("sys.connect.cancel","Close")},"close"),e.jsx(t,{type:"primary",icon:e.jsx(j,{}),disabled:!r.sampleTrace,onClick:m,children:s("sys.workbench.viewLinkLogs","View Link Logs")},"logs")],destroyOnClose:!0,children:e.jsxs(u,{direction:"vertical",className:"w-full",size:"large",children:[e.jsxs(n,{bordered:!0,size:"small",column:1,children:[e.jsx(n.Item,{label:"Trace ID",children:r.sampleTrace?e.jsx(l.Text,{copyable:!0,children:r.sampleTrace}):"--"}),e.jsx(n.Item,{label:s("sys.workbench.anomalyLevel","Level"),children:e.jsx(y,{color:i.colors.palette.error.dark,children:r.level.toUpperCase()})}),e.jsx(n.Item,{label:s("sys.workbench.anomalyCount","Count"),children:e.jsx(l.Text,{strong:!0,children:r.count})}),e.jsx(n.Item,{label:s("sys.workbench.anomalyLastSeen","Last Seen"),children:b(r.lastAt*1e3).format("YYYY-MM-DD HH:mm:ss")})]}),r.signature&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySignature","Signature")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md",children:e.jsx(l.Paragraph,{code:!0,ellipsis:{rows:3,expandable:!0,symbol:s("sys.workbench.expand","Expand")},style:{fontSize:"12px",marginBottom:0,wordBreak:"break-all"},children:r.signature})})]}),r.sampleMsg&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySampleMsg","Sample Message")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md",children:e.jsx(l.Text,{style:{fontSize:"12px",whiteSpace:"pre-wrap",color:i.colors.text.primary},children:r.sampleMsg})})]}),r.sampleError&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySampleError","Sample Error")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md border border-red-200 dark:border-red-900",children:e.jsx(l.Text,{type:"danger",style:{fontSize:"12px",whiteSpace:"pre-wrap"},children:r.sampleError})})]})]})})}export{S as default};
