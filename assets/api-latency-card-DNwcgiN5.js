import{u as f,a as y,t as s,j as e,b as g}from"./index-HWvyI2US.js";import{C as j}from"./index-cE1CLue6.js";import{S as v,z as b}from"./vendor-ui-Bdifwvp0.js";import{r}from"./vendor-core-Cler3e7Q.js";import N from"./api-latency-chart-DTkGES-5.js";import"./vendor-utils-DG9TG-F2.js";import"./useChart-C040lSBS.js";import"./vendor-charts-BXYW9_WM.js";const d={avgLatency:0,status2xx:0,status5xx:0,updatedAt:""},w=()=>{const t=b();return{avgLatency:Math.round(120+Math.random()*80),status2xx:Math.round(8200+Math.random()*1200),status5xx:Math.round(80+Math.random()*60),updatedAt:t.format("HH:mm")}},x=t=>t.toLocaleString();function $(){const{t}=f(),l=y(),[o,c]=r.useState(!1),[m,n]=r.useState(!1),[a,i]=r.useState(d);r.useEffect(()=>{n(!0);const h=setTimeout(()=>{i(l?w():d),n(!1)},180);return()=>clearTimeout(h)},[l]);const p=r.useMemo(()=>`linear-gradient(135deg, rgba(${s.colors.palette.primary.lightChannel}, 0.12), rgba(${s.colors.palette.success.lightChannel}, 0.14)) ${s.colors.background.paper}`,[]),u=()=>{o||c(!0)};return e.jsxs("div",{onClick:u,className:"h-full w-full",children:[e.jsx(v,{spinning:m,className:"h-full",children:e.jsx(j,{className:"!p-0 overflow-hidden h-full w-full",style:{background:p,padding:0,boxShadow:s.shadows.card,cursor:"pointer",height:"100%",minHeight:133},children:e.jsx("div",{className:"flex h-full flex-col gap-4 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium",style:{color:s.colors.text.primary},children:t("sys.workbench.apiResponseToday","API Response Today")}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium uppercase",style:{color:s.colors.text.secondary},children:t("sys.workbench.apiAvgLatency","Avg latency")}),e.jsxs("span",{className:"text-2xl font-bold",style:{color:s.colors.text.primary},children:[a.avgLatency," ms"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium uppercase",style:{color:s.colors.palette.success.dark},children:t("sys.workbench.api2xxTotal","2xx total")}),e.jsx("span",{className:"text-2xl font-bold",style:{color:s.colors.text.primary},children:x(a.status2xx)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium uppercase",style:{color:s.colors.palette.error.dark},children:t("sys.workbench.api5xxTotal","5xx total")}),e.jsx("span",{className:"text-2xl font-bold",style:{color:s.colors.text.primary},children:x(a.status5xx)})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 justify-start mt-1",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full",style:{background:`rgba(${s.colors.palette.primary.defaultChannel}, 0.18)`,color:s.colors.palette.primary.dark},children:e.jsx(g,{icon:"mdi:clock-fast",size:26})}),a.updatedAt&&e.jsx("span",{className:"text-xs mt-2",style:{color:s.colors.text.secondary},children:t("sys.workbench.apiUpdatedAt",{time:a.updatedAt,defaultValue:"Updated at {{time}}"})})]})]})})})}),e.jsx(N,{open:o,onClose:()=>c(!1),enabled:!!l})]})}export{$ as default};
