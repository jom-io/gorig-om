import{u as p,j as e,t as o}from"./index-Cnre7JAL.js";import{M as h,H as x,a9 as n,s as l,T as u,z as y,i,ab as b}from"./vendor-ui-Dp3kvFmo.js";import"./vendor-core-D3G3Pc5t.js";import"./vendor-utils-DKy5dUqm.js";function T({open:t,onClose:a,data:r}){const{t:s}=p();if(!r)return null;const c=()=>{if(!r.sampleTrace)return;const m=r.lastAt*1e3-6e4,d=`#/log?traceID=${r.sampleTrace}&startTime=${m}`;window.open(d,"_blank")};return e.jsx(h,{title:s("sys.workbench.anomalySampleDetail","Anomaly Sample Detail"),open:t,onCancel:a,width:800,footer:[e.jsx(i,{onClick:a,children:s("sys.connect.cancel","Close")},"close"),e.jsx(i,{type:"primary",icon:e.jsx(b,{}),disabled:!r.sampleTrace,onClick:c,children:s("sys.workbench.viewLinkLogs","View Link Logs")},"logs")],destroyOnClose:!0,children:e.jsxs(x,{direction:"vertical",className:"w-full",size:"large",children:[e.jsxs(n,{bordered:!0,size:"small",column:1,children:[e.jsx(n.Item,{label:"Trace ID",children:r.sampleTrace?e.jsx(l.Text,{copyable:!0,children:r.sampleTrace}):"--"}),e.jsx(n.Item,{label:s("sys.workbench.anomalyLevel","Level"),children:e.jsx(u,{color:o.colors.palette.error.dark,children:r.level.toUpperCase()})}),e.jsx(n.Item,{label:s("sys.workbench.anomalyCount","Count"),children:e.jsx(l.Text,{strong:!0,children:r.count})}),e.jsx(n.Item,{label:s("sys.workbench.anomalyLastSeen","Last Seen"),children:y(r.lastAt*1e3).format("YYYY-MM-DD HH:mm:ss")})]}),r.signature&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySignature","Signature")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md",children:e.jsx(l.Paragraph,{code:!0,ellipsis:{rows:3,expandable:!0,symbol:s("sys.workbench.expand","Expand")},style:{fontSize:"12px",marginBottom:0,wordBreak:"break-all"},children:r.signature})})]}),r.sampleMsg&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySampleMsg","Sample Message")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md",children:e.jsx(l.Text,{style:{fontSize:"12px",whiteSpace:"pre-wrap",color:o.colors.text.primary},children:r.sampleMsg})})]}),r.sampleError&&e.jsxs("div",{children:[e.jsx(l.Title,{level:5,children:s("sys.workbench.anomalySampleError","Sample Error")}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 p-3 rounded-md border border-red-200 dark:border-red-900",children:e.jsx(l.Text,{type:"danger",style:{fontSize:"12px",whiteSpace:"pre-wrap"},children:r.sampleError})})]})]})})}export{T as default};
