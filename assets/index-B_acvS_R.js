import{c as N,j as e,I as g,b as f}from"./index-D8jLLxGe.js";import{u as O,Q as S}from"./useBaseQuery-CeJOZzQF.js";import{F as t,H as z,C as d,U as F,V as u,I as p,t as x,T as m,i as h,G as R,ae as v,M as T,af as E,Y as j}from"./vendor-ui-BgnAtmuh.js";import{r as b}from"./vendor-core-Cler3e7Q.js";import k from"./organization-chart-gLm2s5lI.js";import"./vendor-utils-Dg5_7-NF.js";function q(r,i){return O(r,S)}const D=()=>N.get({url:"/org"}),M={getOrgList:D};function G(){const[r]=t.useForm(),[i,a]=b.useState({formValue:{id:"",name:"",status:"enable"},title:"New",show:!1,onOk:()=>{a(s=>({...s,show:!1}))},onCancel:()=>{a(s=>({...s,show:!1}))}}),o=[{title:"Name",dataIndex:"name",width:300},{title:"Order",dataIndex:"order",align:"center",width:60},{title:"Status",dataIndex:"status",align:"center",width:120,render:s=>e.jsx(m,{color:s==="enable"?"success":"error",children:s})},{title:"Desc",dataIndex:"desc",align:"center",width:300},{title:"Action",key:"operation",align:"center",width:100,render:(s,l)=>e.jsxs("div",{className:"flex w-full justify-center text-gray",children:[e.jsx(g,{onClick:()=>C(l),children:e.jsx(f,{icon:"solar:pen-bold-duotone",size:18})}),e.jsx(v,{title:"Delete the Organization",okText:"Yes",cancelText:"No",placement:"left",children:e.jsx(g,{children:e.jsx(f,{icon:"mingcute:delete-2-fill",size:18,className:"text-error"})})})]})}],c={onChange:(s,l)=>{},onSelect:(s,l,I)=>{},onSelectAll:(s,l,I)=>{}},{data:n}=q({queryKey:["orgs"],queryFn:M.getOrgList}),w=()=>{r.resetFields()},y=()=>{a(s=>({...s,show:!0,title:"Create New",formValue:{...s.formValue,id:"",name:"",order:1,desc:"",status:"enable"}}))},C=s=>{a(l=>({...l,show:!0,title:"Edit",formValue:s}))};return e.jsxs(z,{direction:"vertical",size:"large",className:"w-full",children:[e.jsx(d,{children:e.jsx(t,{form:r,children:e.jsxs(F,{gutter:[16,16],children:[e.jsx(u,{span:24,lg:6,children:e.jsx(t.Item,{label:"Name",name:"name",className:"!mb-0",children:e.jsx(p,{})})}),e.jsx(u,{span:24,lg:6,children:e.jsx(t.Item,{label:"Status",name:"status",className:"!mb-0",children:e.jsxs(x,{children:[e.jsx(x.Option,{value:"enable",children:e.jsx(m,{color:"success",children:"Enable"})}),e.jsx(x.Option,{value:"disable",children:e.jsx(m,{color:"error",children:"Disable"})})]})})}),e.jsx(u,{span:24,lg:12,children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx(h,{onClick:w,children:"Reset"}),e.jsx(h,{type:"primary",className:"ml-4",children:"Search"})]})})]})})}),e.jsx(d,{title:"Organization List",extra:e.jsx(h,{type:"primary",onClick:y,children:"New"}),children:e.jsx(R,{rowKey:"id",size:"small",scroll:{x:"max-content"},pagination:!1,columns:o,dataSource:n,rowSelection:{...c}})}),e.jsx(d,{title:"Organization Chart",children:e.jsx(k,{organizations:n})}),e.jsx(P,{...i})]})}function P({title:r,show:i,formValue:a,onOk:o,onCancel:c}){const[n]=t.useForm();return b.useEffect(()=>{n.setFieldsValue({...a})},[a,n]),e.jsx(T,{title:r,open:i,onOk:o,onCancel:c,children:e.jsxs(t,{initialValues:a,form:n,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[e.jsx(t.Item,{label:"Name",name:"name",required:!0,children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Order",name:"order",required:!0,children:e.jsx(E,{style:{width:"100%"}})}),e.jsx(t.Item,{label:"Status",name:"status",required:!0,children:e.jsxs(j.Group,{optionType:"button",buttonStyle:"solid",children:[e.jsx(j,{value:"enable",children:" Enable "}),e.jsx(j,{value:"disable",children:" Disable "})]})}),e.jsx(t.Item,{label:"Desc",name:"desc",children:e.jsx(p.TextArea,{})})]})})}export{G as default};
